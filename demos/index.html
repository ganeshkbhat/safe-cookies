<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>
    Safe Cookies API
  </title>
  <script src="../index.js"></script>

  <script>
    // import pkg from "safecookie";
    // const { encrypt, decrypt, encryptRecursive, decryptRecursive, cryptoencrypt, cryptodecrypt, getKeyFromPassword } = pkg;

    let key = getKeyFromPassword("password", "testsalt");
    let yourFnThatReturnsValue = (v) => { console.log(v.toString("base64")); return v; }

    // USAGE: 
    //    encrypt(yourfunc, key_generated, value_arg_index, cryptoencrypt) 
    //
    //    encrypt(yourFnThatReturnsValue, key, 0, cryptoencrypt) 
    // 
    // if the value to be encrypted is argument index 0 then use 0 
    //      else use the index of the value argument
    // if the value to be encrypted is argument index 1 then use 1 
    //      else use the index of the value argument
    let cryptedfn = encrypt(yourFnThatReturnsValue, key, 0, cryptoencrypt) 
    let cryptedtext = cryptedfn("Testing new crypter"); 
    console.log(cryptedtext.toString("base64"));

    let decryptedfn = decrypt(yourFnThatReturnsValue, key, 0, cryptodecrypt)
    let decryptedtext = decryptedfn(cryptedtext);
    console.log(decryptedtext.toString());

  </script>
</head>

<body>
  <H4>
    Encrypted Text:
  </H4>
  <div id="encrypted">

  </div>
  <h4>
    Decrypted Text:
  </h4>
  <div id="decrypted">

  </div>
</body>

<script>
  document.getElementById('encrypted').innerHTML = "Test"
  document.getElementById('decrypted').innerHTML = "Test"
</script>

</html>